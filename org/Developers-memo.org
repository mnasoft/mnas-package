* Ссылки [[~/org/sbcl/sbcl-referencies.org][Ссылки]]
* Генерирование документации
#+name: graphs
#+BEGIN_SRC lisp
  (defun make-document ()
    (loop
      :for i :in
      '((:mnas-package      :mnas-package)
        (:mnas-package/sys  nil)
        (:mnas-package/view nil)
        (:mnas-package/make nil)
        (:mnas-package/pkg  nil)
        (:mnas-package/obj  nil)
        (:mnas-package/example nil)
        )
      :do (apply #'mnas-package:document i)))

  (defun make-graphs ()
    (loop
      :for i :in
      '(:mnas-package     
        :mnas-package/sys 
        :mnas-package/view  
        :mnas-package/make  
        :mnas-package/pkg   
        :mnas-package/obj   
        )
      :do (mnas-package:make-codex-graphs i i)))

  (defun make-all ()
        (make-document)
        (make-graphs)
        (codex:document :mnas-package)
        (make-graphs))

      (make-all)
#+END_SRC

#+RESULTS: graphs
: NIL

* Публикация
#+name: publish
#+BEGIN_SRC shell :var graphs=graphs
  mkdir -p "$HOME/public_html/Common-Lisp-Programs/"
  CDIR=`dirname $PWD | xargs basename`
  rsync -Pazh --delete ../docs/build/$CDIR/html/ $HOME/public_html/Common-Lisp-Programs/$CDIR 
  if [[ `hostname` == "mnasoft-00" ]]
  then
      echo "mnasoft-00"
      pi-html
  fi
    if [[ `hostname` == "mnasoft-01" ]]
    then
	echo "mnasoft-01"
        pi-html
    fi
  if [[ `hostname` == "N133907" ]]
  then
      echo "N000308"
      CPL="//n133619/home/_namatv/public_html/Site/Development/Common-Lisp-Programs"
      mkdir -p $CPL/$CDIR
      rsync -Pazh --delete ../docs/build/$CDIR/html/ $CPL/$CDIR
   fi
#+END_SRC
